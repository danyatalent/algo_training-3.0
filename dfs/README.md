# Поиск в глубину

## 31. Поиск в глубину

Ограничение времени:    2 секунды

Ограничение памяти: 	256Mb

Ввод:	стандартный ввод или input.txt

Вывод:	стандартный вывод или output.txt

Дан неориентированный граф, возможно, с петлями и кратными ребрами. Необходимо построить компоненту связности, содержащую первую вершину.

### Формат ввода

В первой строке записаны два целых числа N (1 ≤ N ≤ 10^3) и M (0 ≤ M ≤ 5 * 10^5) — количество вершин и ребер в графе. В последующих M строках перечислены ребра — пары чисел, определяющие номера вершин, которые соединяют ребра.

### Формат вывода

В первую строку выходного файла выведите число K — количество вершин в компоненте связности. Во вторую строку выведите K целых чисел — вершины компоненты связности, перечисленные в порядке возрастания номеров.

### Пример

**input.txt**
```c++
4 5
2 2
3 4
2 3
1 3
2 4
```

**output.txt**
```c++
4
1 2 3 4
```

### [Решение](31_dfs.py)

## 32. Компоненты связности

Ограничение времени:    2 секунды

Ограничение памяти: 	256Mb

Ввод:	стандартный ввод или input.txt

Вывод:	стандартный вывод или output.txt

Дан неориентированный невзвешенный граф. Необходимо посчитать количество его компонент связности и вывести их.

### Формат ввода
Во входном файле записано два числа N и M (0 < N ≤ 100000, 0 ≤ M ≤ 100000). В следующих M строках записаны по два числа i и j (1 ≤ i, j ≤ N), которые означают, что вершины i и j соединены ребром.

### Формат вывода

В первой строчке выходного файла выведите количество компонент связности. Далее выведите сами компоненты связности в следующем формате: в первой строке количество вершин в компоненте, во второй - сами вершины в произвольном порядке.

### Пример

**input.txt**
```c++
6 4
3 1
1 2
5 4
2 3
```

**output.txt**
```c++
3
3
1 2 3 
2
4 5 
1
6 
```

### [Решение](32_comp.py)

## 33. Списывание

Ограничение времени:    2 секунды

Ограничение памяти: 	256Mb

Ввод:	стандартный ввод или input.txt

Вывод:	стандартный вывод или output.txt

Во время контрольной работы профессор Флойд заметил, что некоторые студенты обмениваются записками. Сначала он хотел поставить им всем двойки, но в тот день профессор был добрым, а потому решил разделить студентов на две группы: списывающих и дающих списывать, и поставить двойки только первым.

У профессора записаны все пары студентов, обменявшихся записками. Требуется определить, сможет ли он разделить студентов на две группы так, чтобы любой обмен записками осуществлялся от студента одной группы студенту другой группы.

### Формат ввода

В первой строке находятся два числа N и M — количество студентов и количество пар студентов, обменивающихся записками (1 ≤ N ≤ 10^2, 0 ≤ M ≤ N(N−1)/2).

Далее в M строках расположены описания пар студентов: два числа, соответствующие номерам студентов, обменивающихся записками (нумерация студентов идёт с 1). Каждая пара студентов перечислена не более одного раза.

### Формат вывода

Необходимо вывести ответ на задачу профессора Флойда. Если возможно разделить студентов на две группы - выведите YES; иначе выведите NO.

### Пример

**input.txt**
```c++
3 3
1 2
2 3
1 3
```

**output.txt**
```c++
NO
```

### [Решение](33_cheating.py)

## 34. Топологическая сортировка

Ограничение времени:    2 секунды

Ограничение памяти: 	256Mb

Ввод:	стандартный ввод или input.txt

Вывод:	стандартный вывод или output.txt

Дан ориентированный граф. Необходимо построить топологическую сортировку.

### Формат ввода

В первой строке входного файла два натуральных числа N и M (1 ≤ N, M ≤ 100 000) — количество вершин и рёбер в графе соответственно. Далее в M строках перечислены рёбра графа. Каждое ребро задаётся парой чисел — номерами начальной и конечной вершин соответственно.

### Формат вывода

Выведите любую топологическую сортировку графа в виде последовательности номеров вершин (перестановка чисел от 1 до N). Если топологическую сортировку графа построить невозможно, выведите -1.

### Пример

**input.txt**
```c++
6 6
1 2
3 2
4 2
2 5
6 5
4 6
```

**output.txt**
```c++
4 6 3 1 2 5 
```

### [Решение](34_topsort.py)

## 35. Поиск цикла

Ограничение времени:    2 секунды

Ограничение памяти: 	256Mb

Ввод:	стандартный ввод или input.txt

Вывод:	стандартный вывод или output.txt

Дан неориентированный граф. Требуется определить, есть ли в нем цикл, и, если есть, вывести его.

### Формат ввода

В первой строке дано одно число n — количество вершин в графе ( 1 ≤ n ≤ 500 ). Далее в n строках задан сам граф матрицей смежности.

### Формат вывода

Если в иcходном графе нет цикла, то выведите «NO». Иначе, в первой строке выведите «YES», во второй строке выведите число k — количество вершин в цикле, а в третьей строке выведите k различных чисел — номера вершин, которые принадлежат циклу в порядке обхода (обход можно начинать с любой вершины цикла). Если циклов несколько, то выведите любой.

### Пример

**input.txt**
```c++
3
0 1 1
1 0 1
1 1 0
```

**output.txt**
```c++
YES
3
3 2 1
```

### [Решение](35_loops.py)